<div class="card card-primary">
  <div class="card-header">
    <div class="d-flex align-items-center justify-content-between m-v-15">
      <h3 class="card-title">Menu Details <span *ngIf="!newForm">M-{{menuLabel}}</span></h3>
      <div class="card-toolbar">
        <div class="d-flex">
          <button pButton pRipple type="button" label="Back" icon="pi pi-chevron-left" *ngIf="!editMode"
                  class="p-button-rounded p-button-success m-r-5 d-none d-sm-block"
                  [routerLink]="['../']"></button>

          <button pButton pRipple type="button" icon="pi pi-chevron-left" *ngIf="!editMode"
                  class="p-button-rounded p-button-success m-r-5  d-sm-none" [routerLink]="['../']"></button>

          <button pButton pRipple type="button" label="Delete" icon="pi pi-trash" *ngIf="editMode"
                  [disabled]="true" class="p-button-rounded p-button-danger m-r-5 d-none d-sm-block"></button>

          <button pButton pRipple type="button" label="Cancel" icon="pi pi-times"
                  class="p-button-rounded m-r-5 d-none d-sm-block" *ngIf="editMode"
                  (click)="disableEdit()"></button>

          <button pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded m-r-5  d-sm-none"
                  *ngIf="editMode" (click)="disableEdit()"></button>

          <button pButton pRipple type="button" label="Edit" icon="pi pi-pencil"
                  class="p-button-rounded m-r-5 d-none d-sm-block" *ngIf="!editMode"
                  (click)="enableEdit()"></button>

          <button pButton pRipple type="button" icon="pi pi-pencil" class="p-button-rounded m-r-5  d-sm-none"
                  *ngIf="!editMode" (click)="enableEdit()"></button>

          <button pButton pRipple type="button" label="Save" icon="pi pi-save" *ngIf="editMode"
                  class="p-button-rounded p-button-secondary m-r-5 d-none d-sm-block"
                  (click)="onSubmit()"></button>

          <button pButton pRipple type="button" icon="pi pi-save" *ngIf="editMode"
                  class="p-button-rounded p-button-secondary m-r-5  d-sm-none" (click)="onSubmit()"></button>
        </div>
      </div>
    </div>
  </div>

  <div class="card-body">
    <form [formGroup]="menuForm" (ngSubmit)="onSubmit()">
      <div class="p-fluid">
        <p-divider>
          <div class="p-d-inline-flex p-ai-center">
            <i class="pi pi-user p-mr-2 mr-2"></i>
            <b>Identification</b>
          </div>
        </p-divider>
        <div class="form-row m-b-50">
        <div class="form-group col-md-6">
          <label for="menuName" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0 font-weight-bold">Menu Name</label>
          <div class="p-col-12 p-md-10">
            <input pInputText type="text" formControlName="menuName" id="menuName" placeholder="Enter menu name">
          </div>
        </div>
        <div class="form-group col-md-6">
          <label for="menuDesc" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0 font-weight-bold">Menu Description</label>
          <div class="p-col-12 p-md-10">
            <input pInputText type="text" formControlName="menuDesc" id="menuDesc" placeholder="Enter menu description">
          </div>
        </div>
        </div>
        <div class="form-group">
          <label for="productId" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0 font-weight-bold">Product</label>
          <p-multiSelect (onChange)="onProductSelect($event)" id="productId" [options]="products" optionValue="productId"
                         formControlName="productId" defaultLabel="Select one or more Ingredients"
                         optionLabel="productName" display="chip">
          </p-multiSelect>
        </div>

        <!--Product List-->

        <div class="card">
          <h5>Subheader Grouping</h5>
          <p-table [value]="products" sortField="categoryName" sortMode="single"sortMode="single">
            <ng-template pTemplate="header">
              <tr>
                <th>productLabel</th>
                <th>productName</th>
                <th>productCategory</th>
                <th>productType</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-rowIndex="rowIndex">
              <tr *ngIf="rowGroupMetadata[product.categoryName].index === rowIndex">
                <td colspan="5">
                  <span class="p-text-bold p-ml-2">{{product.categoryName}}</span>
                </td>
              </tr>
              <tr>
                <td>
                  P-{{product.productLabel}}
                </td>
                <td>
                  {{product.productName}}
                </td>
                <td>
                  <span>{{product.categoryName}}</span>
                </td>
                <td>
                  <span>{{product.productType}}</span>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>









        <div class="form-group">
          <label for="menuActive" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0 font-weight-bold">Menu Active</label> <br>
          <p-inputSwitch id="menuActive" class="ml-2" formControlName="menuActive"></p-inputSwitch>
        </div>
      </div>
    </form>
  </div>
</div>
