<div class="text-center mt-5" *ngIf="loader">
  <div class="spinner-border text-center text-primary" role="status"></div>
</div>
<div *ngIf="!loader" class="card">
  <div class="card-body">
    <div class="order_detail_section row">
      <div class="col-lg-6">
        <div class="card">
          <div class="card-body">
            <h6><strong>Order Summary</strong></h6>
            <div class="head d-flex justify-content-between align-items-center">
              <h6>Order
                Id: {{(orderDetailObj.orderType === _helperService.computeOrderType('dine_in')) ? orderDetailObj.reservationLabel : orderDetailObj.orderLabel}}
                <br> Type
                <br> created at
                <br> Payment Method
                <br> Total
              </h6>
              <p style="cursor: pointer"><span [title]="_helperService.computeOrderMessages(orderDetailObj.orderStatus)"
                                               [classList]="_helperService.computeOrderStatusColor(orderDetailObj.orderStatus)">{{orderDetailObj.orderStatus}}</span>
                <br> {{orderDetailObj.orderType}}
                <br> {{_helperService.computeDate(orderDetailObj.orderTimestamp)}}
                <br> -
                <br> ${{orderDetailObj.orderTotal}}
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="card">
          <div class="card-body">
            <h6><strong>Customer Detail</strong></h6>
            <div class="head d-flex justify-content-between align-items-center">
              <h6 class="card-title">
                Customer Name
                <br>
                Country
                <br>
                Street
                <br>
                Town
                <br>
                State
                <br>
                Address
                <br>
                Phone
                <br>
                Email
                <br>
                Notes
              </h6>
              <p>
                {{(orderDetailObj.customer && orderDetailObj.customer.customerName) ? orderDetailObj.customer.customerName : '-'}}
                <br>
                {{(orderDetailObj.customer && orderDetailObj.customer.customerCountry) ? orderDetailObj.customer.customerCountry : '-'}}
                <br>
                {{(orderDetailObj.customer && orderDetailObj.customer.customerStreet) ? orderDetailObj.customer.customerStreet : '-'}}
                <br>
                {{(orderDetailObj.customer && orderDetailObj.customer.customerTown) ? orderDetailObj.customer.customerTown : '-'}}
                <br>
                {{(orderDetailObj.customer && orderDetailObj.customer.customerState) ? orderDetailObj.customer.customerState : '-'}}
                <br>
                {{(orderDetailObj.customer && orderDetailObj.customer.customerAddress) ? orderDetailObj.customer.customerAddress : '-'}}
                <br>
                {{(orderDetailObj.customer && orderDetailObj.customer.customerPhone) ? orderDetailObj.customer.customerPhone : '-'}}
                <br>
                {{(orderDetailObj.customer && orderDetailObj.customer.customerEmail) ? orderDetailObj.customer.customerEmail : '-'}}
                <br>
                {{(orderDetailObj.customer && orderDetailObj.customer.orderNotes) ? orderDetailObj.customer.orderNotes : '-'}}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr>
    <div class="card">
      <div class="card-body">
        <h6><strong>Cart Summary</strong></h6>
        <div class="row">
          <div *ngFor="let cart of orderDetailObj.carts" class="col-lg-6">
            <div class="card">
              <div class="card-body">
                <div class="head d-flex justify-content-between align-items-center">
                  <h6>{{cart.product.productName}}</h6>
                  <p>{{'qty (' + cart.productQuantity  +') = ' + (cart.productQuantity * _helperService.calculateProductRate(cart.productRate))}}</p>
                </div>
                <div *ngFor="let rate of cart.productRate | keyvalue"
                     class="serving_size d-flex justify-content-between align-items-center">
                  <h6>serving size</h6>
                  <p>{{rate.key + ' $' + rate.value}}</p>
                </div>
                <div class="head d-flex justify-content-between align-items-center">
                  <h6>Flavor</h6>
                  <p>{{cart.productFlavor}}</p>
                </div>
                <hr>
                <div *ngIf="cart.productOptions.length" class="options d-flex justify-content-between align-items-center">
                  <h6>options</h6>
                  <div>
                    <ul *ngFor="let options of cart.productOptions">
                      <li>{{_helperService.computeProduct(products, options.productId).productName}}</li>
                    </ul>
                  </div>
                </div>
                <hr *ngIf="cart.productOptions.length">
                <div *ngIf="cart.productIngredients.length" class="options d-flex justify-content-between align-items-center">
                  <h6>Ingredients</h6>
                  <div>
                    <ul *ngFor="let ingredients of cart.productIngredients">
                      <li>{{_helperService.computeProduct(products, ingredients.productId).productName}}</li>
                    </ul>
                  </div>
                </div>
                <hr *ngIf="cart.productIngredients.length">
                <div *ngIf="cart.productToppings.length" class="options d-flex justify-content-between align-items-center">
                  <h6>Toppings</h6>
                  <div>
                    <ul *ngFor="let topping of cart.productToppings">
                      <li>{{_helperService.computeProduct(products, topping.productId).productName}}
                        (qty {{topping.productQuantity}})
                      </li>
                    </ul>
                  </div>
                </div>
                <hr *ngIf="cart.productToppings.length">
                <div *ngIf="cart.productProportion.length" class="options d-flex justify-content-between align-items-center">
                  <h6>Addons</h6>
                  <div>
                    <ul *ngFor="let addons of cart.productProportion">
                      <li>{{_helperService.computeProduct(products, addons.productId).productName}}
                        (qty {{addons.productQuantity}})
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <a routerLink="/home" class="card-link">< Back</a>
  </div>
</div>
