<!-- shop-section -->
<section class="shop-section pt-100 pb-70 bg-black" id="p01">
  <!-- Button trigger modal -->

  <!-- Dynamic product cartModal -->
  <div class="modal product-customization-modal fade" id="productCustomizeModal" tabindex="-1"
       aria-labelledby="productCustomizeModal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-body">
          <div class="row m-auto main-grid">
            <div class="left col-lg-12">
              <div class="customization">
                <div class="m-auto item">
                  <div class="blog-card-slide">
                    <div class="blog-card-thumb">
                      <img [src]="resolveImages(productCustomizeModal)" alt="blog">
                    </div>
                    <div class="blog-card-content">
                      <div class="section p-2" *ngIf="slideToShow===0">
                        <h3 class="text-center">Product Proportion</h3>
                        <div class="main-selection-container">
                          <div
                            class="list mb-2 d-flex justify-content-between">
                            <div class="d-flex left">
                              <img [src]="resolveImages(productCustomizeModal)"/>
                              <h6>Product Proportion</h6>
                            </div>
                            <div class="right">
                              <h6 class="float-end">${{selectedProductPrice}}</h6>
                              <select [formControl]="selectProductProportionField" class="drop-down"
                                      id="exampleFormControlSelect1">
                                <option [value]="item.name"
                                        *ngFor="let item of productCustomizeModal.productProportion">{{item.name}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="section p-2" *ngIf="slideToShow===1">
                        <h3 class="text-center">Product Ingredients</h3>
                        <div class="main-selection-container">
                          <div class="container multi-select-list row">
                            <div *ngFor="let ingredients of productCustomizeModal.productIngredients"
                                 (click)="selectIngredients(ingredients)" class="mb-3 col-lg-4">
                              <div [class.multi-selection]="ingredients.selected"
                                   class="d-flex align-items-center justify-content-around ">
                                <img [src]="ingredients.image"/>
                                <h6>{{ingredients.name}}</h6>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="section p-2" *ngIf="slideToShow===2">
                        <h3 class="text-center">Product Topping</h3>
                        <div class="main-selection-container">
                          <div *ngFor="let toppings of productCustomizeModal.productToppings"
                               [class.single-selection]="toppings.selected"
                               class="list mb-2 d-flex justify-content-between">
                            <div (click)="selectToppings(toppings)" class="d-flex left">
                              <img [src]="toppings.image"/>
                              <h6>{{toppings.name}}
                                <br>
                                <span class="mt-3">${{toppings.price}}</span>
                              </h6>
                            </div>
                            <div class="counter-section">
                              <h6 class="text-center">${{toppings.total}}</h6>
                              <div class="btn-group">
                                <button type="button" (click)="addToppingQuantity(toppings,'subtracting')"
                                        class="btn btn-secondary"><strong>-</strong></button>
                                <button type="button" class="btn btn-secondary ml-1 mr-1">
                                  <strong>{{toppings.quantity}}</strong></button>
                                <button type="button" (click)="addToppingQuantity(toppings,'adding')"
                                        class="btn btn-secondary"><strong>+</strong></button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="section p-2" *ngIf="slideToShow===3 && selectProductProportionField.value==='combo'">
                        <h3 class="text-center">Addons</h3>
                        <div class="main-selection-container">
                          <div *ngFor="let addons of productCustomizeModal.productOptions"
                               [class.single-selection]="addons.selected"
                               class="list mb-2 d-flex justify-content-between">
                            <div (click)="selectAddons(addons)" class="d-flex left">
                              <img [src]="addons.image"/>
                              <h6>{{addons.name}}
                                <br>
                                <span class="mt-3">${{addons.price}}</span>
                              </h6>
                            </div>
                            <div class="counter-section">
                              <h6 class="text-center">${{addons.total}}</h6>
                              <div class="btn-group">
                                <button type="button" (click)="addAddonQuantity(addons,'subtracting')"
                                        class="btn btn-secondary"><strong>-</strong></button>
                                <button type="button" class="btn btn-secondary ml-1 mr-1">
                                  <strong>{{addons.quantity}}</strong></button>
                                <button type="button" (click)="addAddonQuantity(addons,'adding')"
                                        class="btn btn-secondary"><strong>+</strong></button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="section p-2" *ngIf="slideToShow===4">
                        <h3 class="text-center">Product Proportion</h3>
                        <div class="main-selection-container">df</div>
                      </div>
                      <div class="total">
                        <hr>
                        <h6 class="text-end">Total ${{totalCustomProductBill}}</h6>
                      </div>
                      <div class="d-flex justify-content-between button-group">
                        <button *ngIf="slideToShow!==0" (click)="previousSlide()" type="button" class="btn btn-yellow">
                          <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <div [class.apply-left-margin]="slideToShow===0" class="d-flex">
                          <button data-bs-dismiss="modal" type="button" class="btn btn-yellow">Cancel</button>
                          <button *ngIf="slideToShow!==4" (click)="nextSlide()" type="button"
                                  class="btn ml-2 btn-primary">Next
                            <i class="fas fa-arrow-right"></i></button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-sm-12 col-md-9 col-lg-9 pb-30">
        <div class="product-list-header">
          <!--          <div class="product-list-header-item">-->
          <!--            <div *ngIf="false" class="product-list-result">-->
          <!--              &lt;!&ndash; <p>Showing 1-6 Of 35 Results</p> &ndash;&gt;-->
          <!--              <div class="around-border pr-5">-->
          <!--                <input type="text" class="form-control" placeholder="Message to Sofia" id="sofiaInput" #sofiaInput-->
          <!--                       (keyup.enter)="sendWSMessage(sofiaInput.value)">-->
          <!--              </div>-->
          <!--              <div class="sidebar-title">-->
          <!--                <p class="color-white"-->
          <!--                   style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">-->
          <!--                  {{sofiaMessage}}</p>-->
          <!--              </div>-->
          <!--            </div>-->
          <!--          </div>-->
          <div *ngIf="!searchList.length" class="product-list-header-item"></div>
          <div *ngIf="searchList && searchList.length" class="product-list-header-item">
            <a (click)="removeFilter(item,i)" *ngFor="let item of searchList;let i = index"
               class="badge badge-danger">{{item.name}} : ({{item.value}}) <span aria-hidden="true">&times;</span></a>
          </div>
          <div class="product-list-header-item">
            <div class="product-list-action">
              <div class="product-list-form">
                <form>
                  <select (click)="sortByPrice()" [formControl]="sortControl">
                    <option *ngFor="let item of sortList" [value]="item.value">{{item.name}}</option>
                  </select>
                </form>
              </div>
            </div>
          </div>
        </div>
        <div class="product-content" id="s01">
          <app-spinner *ngIf="isLoading"></app-spinner>
          <div *ngIf="filteredProducts && filteredProducts.length" class="row">
            <div class="col-sm-12 col-md-6 col-lg-4 pb-30" *ngFor="let product of filteredProducts">
              <div class="product-card product-card-dark" id="{{product.productId}}">
                <div class="product-card-thumb">
                  <div class="product-card-thumb-inner">
                    <img [src]="resolveImages(product)" alt="product">
                    <div class="product-card-button">
                      <!--                      <a (click)="addToCart(product.productId)" class="btn btn-yellow">Add To-->
                      <!--                        Cart</a>-->
                      <!--                      <a class="btn">Add To Wishlist</a>-->
                    </div>
                  </div>
                  <div class="review-star mt-3">
                    <ul>
                      <li *ngFor="let item of resolveRating(product)" class="full-star"><i [class]="item.star"></i></li>
                    </ul>
                    <p>({{product.productRating}} Reviews)</p>
                  </div>
                </div>
                <div class="product-card-content">
                  <h3><a href="/product-detail/?productId={{product.productId}}">{{product.productName}}</a></h3>
                  <h4 class="product-price">${{product.productRate.standard}}</h4>
                  <div class="d-flex product-icons justify-content-around">
                    <a (click)="setProductCustomization(product)" data-bs-toggle="modal"
                       data-bs-target="#productCustomizeModal"><i class="fas fa-cart-plus"></i></a>
                    <a><i class="fas fa-heart"></i></a>
                  </div>
                </div>
              </div>
            </div>

          </div>
          <div *ngIf="!isLoading && filteredProducts && !filteredProducts.length" class="error-product">Sorry product
            not found!
          </div>
          <!-- <div class="page-pagination">
            <nav aria-label="pagination">
              <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                  <span class="page-link"><i class="flaticon-left-arrow-1"></i></span>
                </li>
                <li class="page-item active">
                  <span class="page-link">
                    1
                    <span class="sr-only">(current)</span>
                  </span>
                </li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                  <a class="page-link" href="#"><i class="flaticon-next"></i></a>
                </li>
              </ul>
            </nav>
          </div> -->
        </div>
      </div>
      <div class="col-sm-12 col-md-3 col-lg-3 pb-30">
        <div class="sidebar-item around-border sidebar-search">
          <form>
            <div class="form-group">
              <input (change)="filterProductsByName($event)" class="form-control" id="productSearch" type="text"
                     placeholder="Search">
              <button><i class="flaticon-loupe"></i></button>
            </div>
          </form>
        </div>
        <div class="sidebar-item mb-30">
          <div class="sidebar-title">
            <h3 class="color-white">Filter By Price</h3>
          </div>
          <div class="sidebar-content">
            <form class="price-range-content">
              <div class="price-range-bar" id="range-slider"></div>
              <div class="price-range-filter">
                <div class="price-range-filter-item price-range-filter-button order-2 order-xl-1">
                  <button (click)="filterProductByPriceRange()" class="btn btn-small">Filter</button>
                </div>
                <div class="price-range-filter-item d-flex align-items-center text-end order-1 order-xl-2">
                  <h4>Price:</h4>
                  <input type="text" class="price-amount" id="price-amount" readonly>
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="sidebar-item mb-30">
          <div class="sidebar-title">
            <h3 class="color-white">Filter By Rating</h3>
          </div>
          <div class="sidebar-content">
            <form class="price-range-content">
              <div class="price-range-bar" id="rating-slider"></div>
              <div class="price-range-filter">
                <div class="price-range-filter-item price-range-filter-button order-2 order-xl-1">
                  <button (click)="filterProductByRating()" class="btn btn-small">Filter</button>
                </div>
                <div class="price-range-filter-item d-flex align-items-center text-end order-1 order-xl-2">
                  <h4>Rating:</h4>
                  <input type="text" class="price-amount" id="rating-amount" readonly>
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="sidebar-item">
          <div class="sidebar-title">
            <h3 class="color-white">Categories</h3>
          </div>
          <ul class="sidebar-list">
            <li *ngFor="let category of categoryList" id="{{category.categoryId}}">
              <a [class.active-category]="category.selected" href="javascript:void(0)"
                 (click)="filterProductsByCategory(category)">{{category.categoryName}}</a>
            </li>
          </ul>
        </div>
        <!-- <div class="sidebar-item">
          <div class="sidebar-title">
            <h3 class="color-white">Popular</h3>
          </div>
          <div class="sidebar-recent-post">
            <div class="sidebar-recent-item">
              <div class="sidebar-recent-thumb">
                <a href="#"><img src="assets/images/blog-nav-1.jpg" alt="blog"></a>
              </div>
              <div class="sidebar-recent-content">
                <h3><a href="#">Cheese Burger</a></h3>
                <h4 class="product-price">$ 12.50</h4>
              </div>
            </div>
            <div class="sidebar-recent-item">
              <div class="sidebar-recent-thumb">
                <a href="#"><img src="assets/images/blog-nav-4.jpg" alt="blog"></a>
              </div>
              <div class="sidebar-recent-content">
                <h3><a href="#">Omlette Pizza</a></h3>
                <h4 class="product-price">$ 10.12</h4>
              </div>
            </div>
            <div class="sidebar-recent-item">
              <div class="sidebar-recent-thumb">
                <a href="#"><img src="assets/images/blog-nav-3.jpg" alt="blog"></a>
              </div>
              <div class="sidebar-recent-content">
                <h3><a href="#">Pizza + Burger Combo</a></h3>
                <h4 class="product-price">$ 11.45</h4>
              </div>
            </div>
          </div>
        </div> -->
      </div>
    </div>
  </div>
</section>
<!-- .end shop-section -->

<app-product-cart-modal></app-product-cart-modal>
